"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[825],{4852:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(9231);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},v=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=u(n),v=a,d=m["".concat(s,".").concat(v)]||m[v]||c[v]||l;return n?r.createElement(d,o(o({ref:t},p),{},{components:n})):r.createElement(d,o({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,o=new Array(l);o[0]=v;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[m]="string"==typeof e?e:a,o[1]=i;for(var u=2;u<l;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}v.displayName="MDXCreateElement"},2349:(e,t,n)=>{n.r(t),n.d(t,{contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>s});var r=n(4011),a=(n(9231),n(4852));const l={},o="Migration guide",i={type:"mdx",permalink:"/docs/migration-guide",source:"@site/src/pages/docs/migration-guide.md",title:"Migration guide",description:"v1.0.0",frontMatter:{}},s=[{value:"v1.0.0",id:"v100",level:3},{value:"v0.110",id:"v0110",level:3},{value:"v0.100",id:"v0100",level:3},{value:"Previous version <code>v0.14.x</code>",id:"previous-version-v014x",level:4},{value:"Current version <code>v0.102.x</code>",id:"current-version-v0102x",level:4},{value:"Previous version <code>v0.14.x</code>",id:"previous-version-v014x-1",level:4},{value:"Current version <code>v0.102.x</code>",id:"current-version-v0102x-1",level:4},{value:"Previous version <code>v0.14.x</code>",id:"previous-version-v014x-2",level:4},{value:"Current version <code>v0.102.x</code>",id:"current-version-v0102x-2",level:4},{value:"Previous version <code>v0.14.x</code>",id:"previous-version-v014x-3",level:4},{value:"Current version <code>v0.102.x</code>",id:"current-version-v0102x-3",level:4},{value:"Previous version <code>v0.14.x</code>",id:"previous-version-v014x-4",level:4},{value:"Current version <code>v0.102.x</code>",id:"current-version-v0102x-4",level:4},{value:"Previous version <code>v0.14.x</code>",id:"previous-version-v014x-5",level:4},{value:"Current version <code>v0.102.x</code>",id:"current-version-v0102x-5",level:4},{value:"Previous version <code>v0.14.x</code>",id:"previous-version-v014x-6",level:4},{value:"Current version <code>v0.102.x</code>",id:"current-version-v0102x-6",level:4},{value:"Previous version <code>v0.14.x</code>",id:"previous-version-v014x-7",level:4},{value:"Current version <code>v0.102.x</code>",id:"current-version-v0102x-7",level:4},{value:"Previous version <code>v0.14.x</code>",id:"previous-version-v014x-8",level:4},{value:"Current version <code>v0.102.x</code>",id:"current-version-v0102x-8",level:4},{value:"Previous version <code>v0.14.x</code>",id:"previous-version-v014x-9",level:4},{value:"Current version <code>v0.102.x</code>",id:"current-version-v0102x-9",level:4}],u={toc:s},p="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(p,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"migration-guide"},"Migration guide"),(0,a.kt)("h3",{id:"v100"},"v1.0.0"),(0,a.kt)("p",null,"Removed support of effector v21. Now the minimum supported version is ",(0,a.kt)("inlineCode",{parentName:"p"},"v22.1.2"),".\nNo breaking changes in code."),(0,a.kt)("h3",{id:"v0110"},"v0.110"),(0,a.kt)("p",null,"From ",(0,a.kt)("inlineCode",{parentName:"p"},"v0.110.0")," patronum removed support of effector v20. Now minimum supported version is ",(0,a.kt)("inlineCode",{parentName:"p"},"v21.4"),"."),(0,a.kt)("p",null,"Please, before upgrade review release notes of ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/effector/effector/releases/tag/effector%4021.0.0"},(0,a.kt)("inlineCode",{parentName:"a"},"effector v21")),"."),(0,a.kt)("h3",{id:"v0100"},"v0.100"),(0,a.kt)("p",null,"From ",(0,a.kt)("inlineCode",{parentName:"p"},"v0.100.0")," patronum introduced object arguments form with ",(0,a.kt)("strong",{parentName:"p"},"BREAKING CHANGES"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"npm install patronum@0.14.3\n# or\nyarn add patronum@0.14.3\n")),(0,a.kt)("details",null,(0,a.kt)("summary",null,(0,a.kt)("strong",null,(0,a.kt)("code",null,"throttle"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { throttle } from 'patronum/throttle';\n")),(0,a.kt)("h4",{id:"previous-version-v014x"},"Previous version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.14.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const throttled = throttle(source, timeout);\n")),(0,a.kt)("h4",{id:"current-version-v0102x"},"Current version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.102.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const throttled = throttle({ source, timeout });\n\n// Also you can set target\nconst throttled2 = createEvent(); // or any unit\nthrottle({ source, timeout, target: throttled2 });\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Wrap ",(0,a.kt)("inlineCode",{parentName:"li"},"source")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"timeout")," arguments to object"),(0,a.kt)("li",{parentName:"ul"},"Optionally add ",(0,a.kt)("inlineCode",{parentName:"li"},"target")," parameter")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/sergeysova/patronum/pull/31"},"https://github.com/sergeysova/patronum/pull/31"))),(0,a.kt)("details",null,(0,a.kt)("summary",null,(0,a.kt)("strong",null,(0,a.kt)("code",null,"debounce"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { debounce } from 'patronum/debounce';\n")),(0,a.kt)("h4",{id:"previous-version-v014x-1"},"Previous version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.14.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const debounced = debounce(source, timeout);\n")),(0,a.kt)("h4",{id:"current-version-v0102x-1"},"Current version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.102.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const debounced = debounce({ source, timeout });\n\n// Also you can set target\nconst debounced = createEvent(); // or any unit\ndebounce({ source, timeout, target: debounced });\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Wrap ",(0,a.kt)("inlineCode",{parentName:"li"},"source")," and ",(0,a.kt)("inlineCode",{parentName:"li"},"timeout")," arguments to object"),(0,a.kt)("li",{parentName:"ul"},"Optionally add ",(0,a.kt)("inlineCode",{parentName:"li"},"target")," parameter")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/sergeysova/patronum/pull/38"},"https://github.com/sergeysova/patronum/pull/38"))),(0,a.kt)("details",null,(0,a.kt)("summary",null,(0,a.kt)("strong",null,(0,a.kt)("code",null,"splitMap"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { splitMap } from 'patronum/split-map';\n")),(0,a.kt)("h4",{id:"previous-version-v014x-2"},"Previous version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.14.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const received = splitMap(nameReceived, {\n  firstName: (string) => string.split(' ')[0], // string | undefined\n  lastName: (string) => string.split(' ')[1], // string | undefined\n});\n")),(0,a.kt)("h4",{id:"current-version-v0102x-2"},"Current version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.102.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const received = splitMap({\n  source: nameReceived,\n  cases: {\n    firstName: (string) => string.split(' ')[0], // string | undefined\n    lastName: (string) => string.split(' ')[1], // string | undefined\n  },\n});\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"First argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"source")),(0,a.kt)("li",{parentName:"ul"},"Second argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"cases"))),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/sergeysova/patronum/pull/41"},"https://github.com/sergeysova/patronum/pull/41"))),(0,a.kt)("details",null,(0,a.kt)("summary",null,(0,a.kt)("strong",null,(0,a.kt)("code",null,"some"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { some } from 'patronum/some';\n")),(0,a.kt)("h4",{id:"previous-version-v014x-3"},"Previous version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.14.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const $tooBig = some((size) => size > 800, [$width, $height]);\n")),(0,a.kt)("h4",{id:"current-version-v0102x-3"},"Current version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.102.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const $tooBig = some({\n  predicate: (size) => size > 800,\n  stores: [$width, $height],\n});\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"First argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"predicate")),(0,a.kt)("li",{parentName:"ul"},"Second argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"stores"))),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/sergeysova/patronum/pull/43"},"https://github.com/sergeysova/patronum/pull/43"))),(0,a.kt)("details",null,(0,a.kt)("summary",null,(0,a.kt)("strong",null,(0,a.kt)("code",null,"every"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { every } from 'patronum/every';\n")),(0,a.kt)("h4",{id:"previous-version-v014x-4"},"Previous version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.14.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const $result = every(true, [$a, $b, $c]);\nconst $result = every(() => true, [$a, $b, $c]);\n")),(0,a.kt)("h4",{id:"current-version-v0102x-4"},"Current version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.102.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const $result = every({ predicate: true, stores: [$a, $b, $c] });\nconst $result = every({ predicate: () => true, stores: [$a, $b, $c] });\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"First argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"predicate")),(0,a.kt)("li",{parentName:"ul"},"Second argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"stores"))),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/sergeysova/patronum/pull/50"},"https://github.com/sergeysova/patronum/pull/50"))),(0,a.kt)("details",null,(0,a.kt)("summary",null,(0,a.kt)("strong",null,(0,a.kt)("code",null,"delay"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { delay } from 'patronum/delay';\n")),(0,a.kt)("h4",{id:"previous-version-v014x-5"},"Previous version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.14.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const delayed = delay(unit, 100);\nconst logDelayed = delay(unit, { time: (payload) => 100 });\n")),(0,a.kt)("h4",{id:"current-version-v0102x-5"},"Current version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.102.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const delayed = delay({\n  source: unit,\n  timeout: 100,\n});\n\nconst delayed = delay({\n  source: unit,\n  timeout: (payload) => 100,\n});\n\nconst delayed = delay({\n  source: unit,\n  timeout: $timeout,\n});\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"First argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"source")),(0,a.kt)("li",{parentName:"ul"},"Second argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"timeout")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"time")," property from second argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"timeout")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"timeout")," can be ",(0,a.kt)("inlineCode",{parentName:"li"},"Store<number>"))),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/sergeysova/patronum/pull/51"},"https://github.com/sergeysova/patronum/pull/51"))),(0,a.kt)("details",null,(0,a.kt)("summary",null,(0,a.kt)("strong",null,(0,a.kt)("code",null,"status"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { status } from 'patronum/status';\n")),(0,a.kt)("h4",{id:"previous-version-v014x-6"},"Previous version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.14.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const $status = status(effect, 'initial');\n")),(0,a.kt)("h4",{id:"current-version-v0102x-6"},"Current version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.102.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const $status = status({ effect, defaultValue: 'initial' });\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"First argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"effect")," in object"),(0,a.kt)("li",{parentName:"ul"},"Second argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"defaultValue")," and can be optional")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/sergeysova/patronum/pull/55"},"https://github.com/sergeysova/patronum/pull/55"))),(0,a.kt)("details",null,(0,a.kt)("summary",null,(0,a.kt)("strong",null,(0,a.kt)("code",null,"reshape"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { reshape } from 'patronum/reshape';\n")),(0,a.kt)("h4",{id:"previous-version-v014x-7"},"Previous version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.14.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const parts = reshape($original, {\n  length: (string) => string.length,\n  first: (string) => string.split(' ')[0] || '',\n  second: (string) => string.split(' ')[1] || '',\n});\n")),(0,a.kt)("h4",{id:"current-version-v0102x-7"},"Current version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.102.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const parts = reshape({\n  source: $original,\n  shape: {\n    length: (string) => string.length,\n    first: (string) => string.split(' ')[0] || '',\n    second: (string) => string.split(' ')[1] || '',\n  },\n});\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"First argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"source")),(0,a.kt)("li",{parentName:"ul"},"Second argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"shape"))),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/sergeysova/patronum/pull/57"},"https://github.com/sergeysova/patronum/pull/57"))),(0,a.kt)("details",null,(0,a.kt)("summary",null,(0,a.kt)("strong",null,(0,a.kt)("code",null,"combineEvents"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { combineEvents } from 'patronum/combine-events';\n")),(0,a.kt)("h4",{id:"previous-version-v014x-8"},"Previous version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.14.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const target = combineEvents([first, second, third]);\nconst target = combineEvents({\n  key1: event1,\n  key2: event2,\n});\n")),(0,a.kt)("h4",{id:"current-version-v0102x-8"},"Current version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.102.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"const target = combineEvents({ events: [first, second, third] });\nconst target = combineEvents({\n  events: {\n    key1: event1,\n    key2: event2,\n  },\n});\n")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Assign first argument to property ",(0,a.kt)("inlineCode",{parentName:"li"},"events")," in object")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/sergeysova/patronum/pull/58"},"https://github.com/sergeysova/patronum/pull/58"))),(0,a.kt)("details",null,(0,a.kt)("summary",null,(0,a.kt)("strong",null,(0,a.kt)("code",null,"spread"))),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"import { spread } from 'patronum/spread';\n")),(0,a.kt)("h4",{id:"previous-version-v014x-9"},"Previous version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.14.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"spread(formReceived, {\n  first: $first,\n  last: $last,\n});\n\nconst source = spread({\n  first: $first,\n  last: $last,\n});\n")),(0,a.kt)("h4",{id:"current-version-v0102x-9"},"Current version ",(0,a.kt)("inlineCode",{parentName:"h4"},"v0.102.x")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-ts"},"spread({\n  source: formReceived,\n  targets: {\n    first: $first,\n    last: $last,\n  },\n});\n\nconst source = spread({\n  targets: {\n    first: $first,\n    last: $last,\n  },\n});\n")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"If you have two arguments:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"First argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"source")," in object"),(0,a.kt)("li",{parentName:"ul"},"Second argument should be ",(0,a.kt)("inlineCode",{parentName:"li"},"targets"))),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"If only one argument:")),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Wrap it to object and assign to ",(0,a.kt)("inlineCode",{parentName:"li"},"targets"))),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/sergeysova/patronum/pull/61"},"https://github.com/sergeysova/patronum/pull/61"))))}m.isMDXComponent=!0}}]);